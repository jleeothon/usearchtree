# ruby desc "Open an irb session preloaded with this library"

require 'rake'

task :help do
    puts "Usage"
    puts "  console   starts a console with probaberry loaded"
    puts "  help      shows this help text"
    puts "  test      runs tests"
end

task :default => [:help]

task :console do
    sh "irb -I lib -r usearchtree.rb"
end

task :tests do
    test_files = Rake::FileList.new "test/test_*.rb"
    test_files.each do |test_file|
        ruby "-I lib #{test_file}"
    end
end

task :test, [:pattern] do |t, args|
    test_files = Rake::FileList.new "test/test_#{args[:pattern]}.rb"
    test_files.each do |test_file|
        ruby "-I lib #{test_file}"
    end
end
